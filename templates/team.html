{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-dark">
            <div class="card-header bg-dark text-white fw-bold">
                🎸 새 팀 만들기
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label class="form-label fw-bold">팀 이름</label>
                        <input type="text" name="team_name" class="form-control" placeholder="예: 28기 모여락팀" required>
                    </div>
                    <button class="btn btn-dark w-100">팀 생성하기</button>
                </form>
                <div class="mt-3 text-muted small">
                    * 팀을 만들면 자동으로 팀장이 됩니다.<br>
                    * 생성 후 멤버를 초대할 수 있습니다.
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-8">
        <h3 class="mb-3 fw-bold border-bottom pb-2">📋 내가 속한 팀 목록</h3>
        
        <div class="list-group shadow-sm">
            {% for team in teams %}
                <a href="/team/{{ team.id }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center py-4">
                    <div>
                        <h4 class="mb-1 fw-bold text-primary">{{ team.name }}</h4>
                        <span class="text-muted small">
                            <i class="bi bi-people-fill"></i> 멤버 {{ team.members|length }}명
                            {% if team.leader_id == current_user.id %}
                                <span class="badge bg-warning text-dark ms-2">내가 팀장 👑</span>
                            {% endif %}
                        </span>
                    </div>
                    <button class="btn btn-outline-primary rounded-pill px-4">
                        시간 조율하러 가기 ➜
                    </button>
                </a>
            {% else %}
                <div class="text-center py-5 bg-light rounded-3">
                    <h1 class="text-muted mb-3">😕</h1>
                    <h4 class="text-muted">아직 속한 팀이 없습니다.</h4>
                    <p class="text-muted">왼쪽에서 팀을 새로 만들거나,<br>팀장에게 초대를 요청하세요!</p>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}